<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡∏Æ‡∏±‡∏Å‡πÉ‡∏à - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏à (PHQ-9)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body { font-family: 'Sarabun', sans-serif; background-color: #0f172a; overflow-x: hidden; }
        .glass { background: rgba(30, 41, 59, 0.7); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.1); }
        .animate-blob { animation: blob 7s infinite; }
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animation-delay-2000 { animation-delay: 2s; }
        .animation-delay-4000 { animation-delay: 4s; }
        
        .music-bars { display: flex; align-items: flex-end; height: 16px; gap: 3px; }
        .bar { width: 3px; background-color: #f472b6; animation: musicWave 1s ease-in-out infinite; }
        .bar:nth-child(1) { animation-delay: 0.1s; height: 6px; }
        .bar:nth-child(2) { animation-delay: 0.3s; height: 10px; }
        .bar:nth-child(3) { animation-delay: 0.2s; height: 14px; }
        @keyframes musicWave {
            0%, 100% { height: 4px; }
            50% { height: 14px; }
        }
    </style>
</head>
<body class="text-slate-100 antialiased">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const QUESTIONS = [
            "‡πÄ‡∏ö‡∏∑‡πà‡∏≠ ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏•‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏ô",
            "‡πÑ‡∏°‡πà‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à ‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤ ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ",
            "‡∏´‡∏•‡∏±‡∏ö‡∏¢‡∏≤‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏ö‡πÜ ‡∏ï‡∏∑‡πà‡∏ô‡πÜ ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏Å‡πÑ‡∏õ",
            "‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏á‡πà‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ ‡πÑ‡∏°‡πà‡∏Ñ‡πà‡∏≠‡∏¢‡∏°‡∏µ‡πÅ‡∏£‡∏á",
            "‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏´‡∏£‡∏∑‡∏≠ ‡∏Å‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ",
            "‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß",
            "‡∏™‡∏°‡∏≤‡∏ò‡∏¥‡πÑ‡∏°‡πà‡∏î‡∏µ‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£",
            "‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤ ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏ä‡πâ‡∏≤‡∏•‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏™‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏™‡πà‡∏≤‡∏¢",
            "‡∏Ñ‡∏¥‡∏î‡∏ó‡∏≥‡∏£‡πâ‡∏≤‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏¥‡∏î‡∏ß‡πà‡∏≤‡∏ñ‡πâ‡∏≤‡∏ï‡∏≤‡∏¢‡πÑ‡∏õ‡∏Ñ‡∏á‡∏à‡∏∞‡∏î‡∏µ"
        ];

        const OPTIONS = [
            { label: "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏•‡∏¢", value: 0 },
            { label: "‡∏°‡∏µ‡∏ö‡∏≤‡∏á‡∏ß‡∏±‡∏ô", value: 1 },
            { label: "‡∏ö‡πà‡∏≠‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á", value: 2 },
            { label: "‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô", value: 3 }
        ];

        // ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Home SVG
        const HomeIcon = () => (
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        );

        const App = () => {
            const [view, setView] = useState('menu');
            const [currentQ, setCurrentQ] = useState(0);
            const [score, setScore] = useState(0);
            const [isMuted, setIsMuted] = useState(false);
            const audioRef = useRef(null);

            useEffect(() => {
                const audio = audioRef.current;
                audio.volume = 0.5;
                const tryPlay = async () => {
                    try {
                        await audio.play();
                        setIsMuted(false);
                    } catch (e) {
                        setIsMuted(true);
                        const playOnInteract = () => {
                            audio.play();
                            setIsMuted(false);
                            document.removeEventListener('click', playOnInteract);
                        };
                        document.addEventListener('click', playOnInteract);
                    }
                };
                tryPlay();
            }, []);

            const toggleMusic = () => {
                if (audioRef.current.paused) {
                    audioRef.current.play();
                    setIsMuted(false);
                } else {
                    audioRef.current.pause();
                    setIsMuted(true);
                }
            };

            const startQuiz = () => {
                setScore(0);
                setCurrentQ(0);
                setView('quiz');
            };

            const handleAnswer = (val) => {
                const nextScore = score + val;
                if (currentQ < QUESTIONS.length - 1) {
                    setScore(nextScore);
                    setCurrentQ(currentQ + 1);
                } else {
                    setScore(nextScore);
                    setView('result');
                }
            };

            const getInterpretation = (s) => {
                if (s < 5) return { label: "‡∏õ‡∏Å‡∏ï‡∏¥", color: "text-teal-400", desc: "‡πÉ‡∏à‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏î‡∏µ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏°‡∏±‡∏ô‡πÑ‡∏ß‡πâ‡∏ô‡∏∞" };
                if (s < 9) return { label: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢", color: "text-yellow-400", desc: "‡∏ä‡πà‡∏ß‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏´‡∏ô‡πà‡∏≠‡∏¢ ‡∏•‡∏≠‡∏á‡∏´‡∏≤‡πÄ‡∏ß‡∏•‡∏≤‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏ö‡πâ‡∏≤‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö" };
                if (s < 15) return { label: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á", color: "text-orange-400", desc: "‡∏≠‡∏¢‡πà‡∏≤‡πÅ‡∏ö‡∏Å‡πÑ‡∏ß‡πâ‡∏Ñ‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏•‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡∏ä‡∏¥‡∏î‡∏î‡∏π‡∏ô‡∏∞" };
                return { label: "‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á", color: "text-red-500", desc: "‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏≠‡∏î‡∏ó‡∏ô‡∏°‡∏≤‡∏ñ‡∏∂‡∏á‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏û‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏ö‡πà‡∏á‡πÄ‡∏ö‡∏≤‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö" };
            };

            return (
                <div className="min-h-screen relative flex items-center justify-center p-4 pb-24">
                    {/* Background Blobs */}
                    <div className="fixed inset-0 -z-10 overflow-hidden">
                        <div className="absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                        <div className="absolute top-0 -right-4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                        <div className="absolute -bottom-8 left-20 w-72 h-72 bg-pink-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-4000"></div>
                    </div>

                    <audio ref={audioRef} loop>
                        <source src="bg.mp3" type="audio/mpeg" /> 
                    </audio>

                    {/* --- ‡πÇ‡∏ã‡∏ô‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô: ‡∏õ‡∏∏‡πà‡∏° Home + ‡∏õ‡∏∏‡πà‡∏° Music --- */}
                    <div className="fixed top-6 right-6 z-50 flex items-center gap-3">
                        {/* ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å (‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô) */}
                        <a href="index.html" className="glass p-3 rounded-full hover:bg-white/10 transition-colors text-slate-300 hover:text-white" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
                            <HomeIcon />
                        </a>

                        {/* ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÄ‡∏û‡∏•‡∏á */}
                        <button onClick={toggleMusic} className="glass px-4 py-2 rounded-full hover:bg-white/10 transition-all flex items-center gap-2 text-sm">
                            {!isMuted ? (
                                <div className="music-bars">
                                    <div className="bar"></div>
                                    <div className="bar"></div>
                                    <div className="bar"></div>
                                </div>
                            ) : "üîá"}
                            <span className="text-slate-300 hidden sm:inline">{!isMuted ? "‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á" : "‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á"}</span>
                        </button>
                    </div>

                    {/* --- ‡πÇ‡∏ã‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á: ‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏ö‡∏ö‡∏•‡∏≠‡∏¢‡∏ï‡∏±‡∏ß --- */}
                    <a href="index.html" className="fixed bottom-8 left-1/2 -translate-x-1/2 z-50 glass px-6 py-3 rounded-full flex items-center gap-2 text-slate-200 hover:text-white hover:bg-white/10 hover:scale-105 transition-all shadow-xl shadow-purple-900/20">
                        <HomeIcon />
                        <span className="font-medium">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</span>
                    </a>

                    {/* Main Content */}
                    <div className="w-full max-w-lg glass p-8 rounded-3xl shadow-2xl text-center backdrop-blur-xl border border-white/5">
                        {view === 'menu' && (
                            <div className="space-y-8 py-4 animate-fade-in">
                                <div>
                                    <h1 className="text-5xl font-bold bg-gradient-to-r from-pink-400 to-purple-400 bg-clip-text text-transparent mb-2">‡∏Æ‡∏±‡∏Å‡πÉ‡∏à ‚ù§Ô∏è</h1>
                                    <p className="text-slate-400 text-lg">"‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÉ‡∏à ‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏≤‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏∏‡∏ì"</p>
                                </div>
                                <div className="bg-white/5 p-6 rounded-2xl border border-white/5 mx-auto max-w-sm">
                                    <p className="text-sm text-slate-300 mb-4">‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ô‡∏µ‡πâ (PHQ-9) ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏û‡∏µ‡∏¢‡∏á 1 ‡∏ô‡∏≤‡∏ó‡∏µ</p>
                                    <button onClick={startQuiz} className="w-full bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white font-bold py-3 rounded-xl transition-all transform hover:scale-105 shadow-lg shadow-pink-500/20">
                                        ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô
                                    </button>
                                </div>
                            </div>
                        )}

                        {view === 'quiz' && (
                            <div className="space-y-6 animate-fade-in text-left">
                                <div className="flex justify-between items-center text-sm text-slate-400 mb-4">
                                    <span>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà {currentQ + 1} / 9</span>
                                    <div className="w-32 bg-slate-800 h-2 rounded-full overflow-hidden">
                                        <div className="bg-gradient-to-r from-pink-500 to-purple-500 h-full transition-all duration-500 ease-out" style={{width: `${((currentQ+1)/9)*100}%`}}></div>
                                    </div>
                                </div>
                                <h2 className="text-2xl font-semibold leading-relaxed min-h-[60px] text-center mb-6 text-slate-100">
                                    {QUESTIONS[currentQ]}
                                </h2>
                                <div className="grid gap-3">
                                    {OPTIONS.map(opt => (
                                        <button 
                                            key={opt.value} 
                                            onClick={() => handleAnswer(opt.value)} 
                                            className="w-full bg-slate-800/40 hover:bg-pink-500/20 border border-slate-700/50 hover:border-pink-500/50 py-4 px-6 rounded-xl transition-all text-left flex justify-between group"
                                        >
                                            <span className="group-hover:text-pink-200 transition-colors">{opt.label}</span>
                                            <span className="opacity-0 group-hover:opacity-100 text-pink-400">‚ûú</span>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        )}

                        {view === 'result' && (
                            <div className="space-y-8 py-4 animate-fade-in">
                                <div>
                                    <h2 className="text-2xl font-bold text-slate-200 mb-2">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h2>
                                    <div className="w-full h-px bg-slate-700/50 my-4"></div>
                                </div>
                                
                                <div className="relative inline-block">
                                    <div className={`text-6xl font-bold ${getInterpretation(score).color}`}>{score}</div>
                                    <div className="text-sm text-slate-500 mt-1">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏ï‡πá‡∏° 27</div>
                                </div>

                                <div className="bg-slate-800/30 p-6 rounded-2xl border border-white/5">
                                    <h3 className={`text-2xl font-bold mb-2 ${getInterpretation(score).color}`}>
                                        {getInterpretation(score).label}
                                    </h3>
                                    <p className="text-slate-300 leading-relaxed">
                                        {getInterpretation(score).desc}
                                    </p>
                                </div>

                                <div className="grid gap-3">
                                    <button onClick={() => setView('menu')} className="w-full bg-slate-700 hover:bg-slate-600 text-white font-bold py-3 rounded-xl transition-all">
                                        ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
                                    </button>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>